import{a as dt}from"./chunk-2G73GRQU.js";import{a as b}from"./chunk-BCRYDC5W.js";import{$ as Et,A as Mt,B as O,C as _t,D as bt,E as xt,F as vt,G as wt,H as Dt,I as Pt,J as St,K as Tt,L as kt,N as It,O as Ot,_ as Ft,aa as At,b as ot,c as at,ca as Nt,d as st,e as ct,g as lt,h as _,i as mt,j as V,l as pt,n as ut,o as ft,p as gt,r as ht,t as yt,y as Ct}from"./chunk-WRA2O52K.js";import{$b as R,Ab as u,Bc as et,Eb as v,Hb as M,Ia as W,Jb as w,Jc as nt,Lc as it,Mc as rt,Qb as D,Rb as c,Tb as P,Ub as Q,Vb as E,Wa as m,Wb as A,Xa as y,Xb as N,Ya as z,Z as B,_a as U,aa as H,ab as G,ba as T,bc as $,cb as X,cc as tt,db as Y,ga as x,la as C,ma as k,mb as I,oa as L,ob as h,ta as f,tb as Z,ua as g,ub as q,wb as J,xb as K,yb as s,zb as a}from"./chunk-HZRNHZZ5.js";function Xt(r,t){if(r&1){let n=v();s(0,"mat-card",12)(1,"mat-card-header")(2,"mat-card-title"),c(3),a(),s(4,"mat-card-subtitle"),c(5),a()(),u(6,"img",13),s(7,"mat-card-content")(8,"p",14),c(9),R(10,"currency"),u(11,"br"),c(12),R(13,"date"),a()(),s(14,"mat-card-actions",15)(15,"button",16),M("click",function(){let i=f(n).$implicit,o=w(2);return g(o.viewTransactionDetails(i.id))}),c(16,"Ver Detalles"),a()()()}if(r&2){let n=t.$implicit;m(3),P("Transacci\xF3n ",n.id,""),m(2),Q("De: ",n.fromAccount," - Para: ",n.toAccount,""),m(4),P(" Monto: ",tt(10,5,n.amount,"USD","symbol","1.2-2")," "),m(3),P(" Fecha: ",$(13,10,n.date,"yyyy-MM-dd")," ")}}function Yt(r,t){if(r&1&&(s(0,"div",11),J(1,Xt,17,13,"mat-card",12,q),a()),r&2){let n=w();m(),K(n.filteredTransactions)}}function Zt(r,t){r&1&&(s(0,"p"),c(1,"No hay transacciones disponibles."),a())}var Vt=(()=>{let t=class t{constructor(e,i,o){this.authService=e,this.transactionService=i,this.router=o,this.userFullName="",this.transactions=[],this.filteredTransactions=[],this.startDate=null,this.endDate=null}ngOnInit(){let e=this.authService.getLoginResponse();if(e&&this.authService.isLoggedIn()){let{firstName:i,lastName:o}=e.user;this.userFullName=`${i} ${o}`}this.getTransactionData()}getTransactionData(){this.transactionService.getAllTransactions().subscribe(e=>{this.transactions=e,this.filteredTransactions=e,console.log("Transacciones obtenidas:",e)},e=>{console.error("Error al obtener transacciones:",e)})}applyDateFilter(){if(this.startDate&&this.endDate){let e=new Date(this.startDate).setHours(0,0,0,0),i=new Date(this.endDate).setHours(23,59,59,999);this.filteredTransactions=this.transactions.filter(o=>{let l=new Date(o.date).getTime();return l>=e&&l<=i})}else this.filteredTransactions=this.transactions}showAllTransactions(){this.filteredTransactions=this.transactions,this.startDate=null,this.endDate=null}viewTransactionDetails(e){this.router.navigate(["/transaction/details",e])}};t.\u0275fac=function(i){return new(i||t)(y(b),y(dt),y(_))},t.\u0275cmp=C({type:t,selectors:[["app-home"]],decls:27,vars:8,consts:[["startPicker",""],["endPicker",""],[1,"container","py-5"],[1,"fw-bold","text-center"],[1,"container"],[1,"date-range"],["appearance","fill",1,"datepicker"],["matInput","",3,"ngModelChange","matDatepicker","ngModel"],["matSuffix","",3,"for"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","accent",3,"click"],[1,"card-container"],[1,"example-card"],["mat-card-image","","src","https://material.angular.io/assets/img/examples/shiba2.jpg","alt","Imagen de ejemplo"],[1,"transaction-info"],[1,"card-actions"],["mat-button","",1,"primary-button",3,"click"]],template:function(i,o){if(i&1){let l=v();s(0,"div",2)(1,"h1",3),c(2),a()(),s(3,"div",4)(4,"h2"),c(5,"\xDAltimas Transacciones"),a(),s(6,"div",5)(7,"mat-form-field",6)(8,"mat-label"),c(9,"Fecha de inicio"),a(),s(10,"input",7),N("ngModelChange",function(p){return f(l),A(o.startDate,p)||(o.startDate=p),g(p)}),a(),u(11,"mat-datepicker-toggle",8)(12,"mat-datepicker",null,0),a(),s(14,"mat-form-field",6)(15,"mat-label"),c(16,"Fecha de fin"),a(),s(17,"input",7),N("ngModelChange",function(p){return f(l),A(o.endDate,p)||(o.endDate=p),g(p)}),a(),u(18,"mat-datepicker-toggle",8)(19,"mat-datepicker",null,1),a(),s(21,"button",9),M("click",function(){return f(l),g(o.applyDateFilter())}),c(22,"Filtrar"),a(),s(23,"button",10),M("click",function(){return f(l),g(o.showAllTransactions())}),c(24,"Todos"),a()(),I(25,Yt,3,0,"div",11)(26,Zt,2,0),a()}if(i&2){let l=D(13),d=D(20);m(2),P("Bienvenido a Banking, ",o.userFullName,""),m(8),h("matDatepicker",l),E("ngModel",o.startDate),m(),h("for",l),m(6),h("matDatepicker",d),E("ngModel",o.endDate),m(),h("for",d),m(7),Z(25,o.filteredTransactions.length>0?25:26)}},dependencies:[ft,Mt,pt,ut,O,_t,wt,xt,Dt,Pt,vt,bt,St,Tt,kt,gt,ht,yt,rt,it],styles:[".container[_ngcontent-%COMP%]{max-width:1000px;margin:0 auto;padding-top:20px}h1[_ngcontent-%COMP%], h2[_ngcontent-%COMP%]{color:#333;text-align:center;margin-bottom:24px}.input-group[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:20px}.input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{flex:1}.input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-left:10px}.date-range[_ngcontent-%COMP%]{display:flex;gap:20px;margin-bottom:20px}.card-container[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(250px,1fr));gap:20px;justify-content:space-between}.mat-card[_ngcontent-%COMP%]{width:100%;max-width:250px;box-shadow:0 4px 8px #0000001a;border-radius:8px;overflow:hidden}.mat-card-title[_ngcontent-%COMP%]{font-size:1.2rem;margin-bottom:.5rem}.transaction-info[_ngcontent-%COMP%]{font-size:.9rem;color:#666;margin-bottom:1rem}.card-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:8px;background-color:#f5f5f5}.card-actions[_ngcontent-%COMP%]   button.primary-button[_ngcontent-%COMP%]{color:#fff;background-color:#1976d2}.card-actions[_ngcontent-%COMP%]   button.primary-button[_ngcontent-%COMP%]:hover{background-color:#0056d3}@media (max-width: 768px){.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(200px,1fr))}}@media (max-width: 576px){.card-container[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(150px,1fr))}}.datepicker[_ngcontent-%COMP%]{width:100%}"]});let r=t;return r})();var F=(r,t)=>{let n=x(b),e=x(_);return n.isLoggedIn()?!0:(e.navigate([""]),!1)};var qt=[{path:"",loadChildren:()=>import("./chunk-WMVA244W.js").then(r=>r.UserModule)},{path:"home",component:Vt,canActivate:[F]},{path:"transaction",loadChildren:()=>import("./chunk-7CKZ4JKT.js").then(r=>r.TransactionModule),canActivate:[F]},{path:"account",loadChildren:()=>import("./chunk-74Y5VUUB.js").then(r=>r.AccountModule),canActivate:[F]}],jt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=k({type:t}),t.\u0275inj=T({imports:[V.forRoot(qt),V]});let r=t;return r})();function Jt(r,t){if(r&1){let n=v();s(0,"mat-toolbar",2)(1,"span"),c(2,"Banking HampCode"),a(),s(3,"button",3),c(4," Inicio "),a(),s(5,"button",4),c(6," Cuenta bancaria "),a(),s(7,"button",5),c(8," Operaciones "),a(),u(9,"span",6),s(10,"button",7)(11,"mat-icon"),c(12,"account_circle"),a()(),s(13,"mat-menu",null,0)(15,"button",8),M("click",function(){f(n);let i=w();return g(i.logout())}),s(16,"mat-icon"),c(17,"logout"),a(),c(18," Cerrar sesi\xF3n "),a()()()}if(r&2){let n=D(14);m(10),h("matMenuTriggerFor",n)}}var Bt=(()=>{let t=class t{constructor(e,i){this.authService=e,this.router=i}logout(){this.authService.logout(),this.router.navigate([""])}isLoggedIn(){return this.authService.isLoggedIn()}};t.\u0275fac=function(i){return new(i||t)(y(b),y(_))},t.\u0275cmp=C({type:t,selectors:[["app-navbar"]],decls:1,vars:1,consts:[["userMenu",""],["color","primary",4,"ngIf"],["color","primary"],["mat-button","","routerLink","/home",1,"ms-3"],["mat-button","","routerLink","/account",1,"ms-3"],["mat-button","",1,"ms-3"],[1,"spacer"],["mat-button","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"]],template:function(i,o){i&1&&I(0,Jt,19,1,"mat-toolbar",1),i&2&&h("ngIf",o.isLoggedIn())},dependencies:[nt,mt,O,Ot,It,Et,Ft,At],styles:["mat-toolbar[_ngcontent-%COMP%]{background-color:#009739;color:#fff;display:flex;justify-content:space-between;align-items:center;padding:0 16px}mat-toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:16px;color:#fff}.spacer[_ngcontent-%COMP%]{flex:1 1 auto}.ms-3[_ngcontent-%COMP%]{margin-left:16px}mat-icon[_ngcontent-%COMP%]{vertical-align:middle;margin-right:8px;color:#fff}button[mat-button][_ngcontent-%COMP%]{display:flex;align-items:center;color:#000}mat-menu[_ngcontent-%COMP%]{background-color:#fff;color:#000}mat-menu[_ngcontent-%COMP%]   button[mat-menu-item][_ngcontent-%COMP%]{display:flex;align-items:center;color:#000}"]});let r=t;return r})();var Ht=(()=>{let t=class t{constructor(){this.title="banking-app"}};t.\u0275fac=function(i){return new(i||t)},t.\u0275cmp=C({type:t,selectors:[["app-root"]],decls:2,vars:0,template:function(i,o){i&1&&u(0,"app-navbar")(1,"router-outlet")},dependencies:[lt,Bt]});let r=t;return r})();var Qt="@",$t=(()=>{let t=class t{constructor(e,i,o,l,d){this.doc=e,this.delegate=i,this.zone=o,this.animationType=l,this.moduleImpl=d,this._rendererFactoryPromise=null,this.scheduler=x(U,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){return(this.moduleImpl??import("./chunk-T6OL4WCT.js")).catch(i=>{throw new B(5300,!1)}).then(({\u0275createEngine:i,\u0275AnimationRendererFactory:o})=>{this._engine=i(this.animationType,this.doc,this.scheduler);let l=new o(this.delegate,this._engine,this.zone);return this.delegate=l,l})}createRenderer(e,i){let o=this.delegate.createRenderer(e,i);if(o.\u0275type===0)return o;typeof o.throwOnSyntheticProps=="boolean"&&(o.throwOnSyntheticProps=!1);let l=new j(o);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(d=>{let p=d.createRenderer(e,i);l.use(p)}).catch(d=>{l.use(o)}),l}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}};t.\u0275fac=function(i){z()},t.\u0275prov=H({token:t,factory:t.\u0275fac});let r=t;return r})(),j=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let n of this.replay)n(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,n){return this.delegate.createElement(t,n)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,n){this.delegate.appendChild(t,n)}insertBefore(t,n,e,i){this.delegate.insertBefore(t,n,e,i)}removeChild(t,n,e){this.delegate.removeChild(t,n,e)}selectRootElement(t,n){return this.delegate.selectRootElement(t,n)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,n,e,i){this.delegate.setAttribute(t,n,e,i)}removeAttribute(t,n,e){this.delegate.removeAttribute(t,n,e)}addClass(t,n){this.delegate.addClass(t,n)}removeClass(t,n){this.delegate.removeClass(t,n)}setStyle(t,n,e,i){this.delegate.setStyle(t,n,e,i)}removeStyle(t,n,e){this.delegate.removeStyle(t,n,e)}setProperty(t,n,e){this.shouldReplay(n)&&this.replay.push(i=>i.setProperty(t,n,e)),this.delegate.setProperty(t,n,e)}setValue(t,n){this.delegate.setValue(t,n)}listen(t,n,e){return this.shouldReplay(n)&&this.replay.push(i=>i.listen(t,n,e)),this.delegate.listen(t,n,e)}shouldReplay(t){return this.replay!==null&&t.startsWith(Qt)}};function Lt(r="animations"){return X("NgAsyncAnimations"),L([{provide:G,useFactory:(t,n,e)=>new $t(t,n,e,r),deps:[et,at,Y]},{provide:W,useValue:r==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Wt=(()=>{let t=class t{};t.\u0275fac=function(i){return new(i||t)},t.\u0275mod=k({type:t,bootstrap:[Ht]}),t.\u0275inj=T({providers:[Lt()],imports:[ct,jt,Nt,ot,Ct]});let r=t;return r})();st().bootstrapModule(Wt).catch(r=>console.error(r));
